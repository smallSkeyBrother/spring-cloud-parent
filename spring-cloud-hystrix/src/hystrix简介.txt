一. Hystrix简介和解决问题
（1）Hystrix是Netflix开源的一款容错框架，包含常用的容错方法：线程池隔离、信号量隔离、熔断、降级回退。在高并发访问下，
系统所依赖的服务的稳定性对系统的影响非常大，依赖有很多不可控的因素，比如网络连接变慢，资源突然繁忙，暂时不可用，服务脱机等。
我们要构建稳定、可靠的分布式系统，就必须要有这样一套容错方法。
（2）比如（A -> B -> C）A服务调用B服务，B服务调用C服务，假如C服务宕机，则B服调用的线程会长时间等待，资源得不到释放占
用系统资源；同时A服务调用B的资源到不到释放每次请求来重新申请资源，服务资源消耗殆尽；最终会导致整个服务集群雪崩。因此引入
断路器Hystrix来解决这些问题。

二. Hystrix作用
（1）解决超时等待，请求快速失败；
（2）服务降级，提供接口失败备用方案；
（3）请求隔离，提供两种请求隔离方式（线程隔离，信号隔离）默认为线程隔离；

三. 原理简析
（1）请求隔离（舱壁模式）：单独为其他服务接口请求方法，提供线程池，在HystrixCommand注解中设置ThreadPoolKey设置线程池名称，
用线程池把服务调用分开，不让有异常的服务接口调用，影响正常服务。

（2）断路器工作流程
  1> 当调用服务出现错误是，开启一个时间窗口（滑动窗口）默认10秒（CLOSED状态）；
  2> 在这个时间窗口内，统计调用次数是否达到了最小请求次数？
     a. 如果没到达则重置统计信息，回到第1步
     b. 如果达到，则统计，失败的请求次数占所有请求数的百分比，是否达到阀值？
        ①. 如果达到，则跳闸（断路器打开，后续不再请求对应服务, 开启OPEN状态）
        ②. 如果没到达，则重置失败统计信息，回到第1步

  3> 如果跳闸，会开启一个活动时间窗口（默认5秒), 每隔5秒Hystrix会放过一个请求(HALF_OPEN状态)，让调用到对应的服务，看请求是否成功？
     a. 如果成功，重置断路器信息，回到第一步
     b. 如果失败，回到第三步骤

  4> 上述两个时间窗口，最小请求数，失败百分比可自行设置(Hystrix配置信息都在类HystrixCommandProperties中)

  5> 注解@HystrixCommand会有一个对应的Aspect切面拦截器进行处理，当调用@HystrixCommand注解注释了的方法或者接口的时候，会
 执行对应的切面逻辑，也即断路器逻辑。